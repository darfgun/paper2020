long_clos <- round(.,digit=2) %>%
sum(-0.005) #%>%
long<- -120
#make sure in grid
long_clos <- round(long,digit=2) %>%
sum(-0.005) #%>%
long_clos
long_clos %in% long_vec
long<- -120
#make sure in grid
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(long_vec[length(long_vec)]) %>%
max(long_vec[1])
long_clos
long_clos %in% long_vec
long<- -120
#make sure in grid
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
long_vec
long_vec[length(long_vec)]
long_vec[1000:length(long_vec)]
long_vec[1793:1805]
long_clos %in% long_vec[1793:1805]
long_vec[1]
long_vec[2]
m<-long_vec[2]-long_vec[1]
m
long<- -120
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r2<-1+100(long_clos-long_vec[1])
r2<-1+100*(long_clos-long_vec[1])
r2
long_vec[r2]
long_clos
r2<-100*(long_clos-long_vec[1])
r2
long_vec[r2]
r2<-2+100*(long_clos-long_vec[1])
r2
long_vec[r2]
long<- -120
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
r2<-2+100*(long_clos-long_vec[1])
r2
long_vec[r2]
long<- -150.233333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
r2<-2+100*(long_clos-long_vec[1])
long_vec[r2]
a<-long_vec[1:1000]-long_vec[2:1001]
?rep
a<-long_vec[1:1000]-long_vec[2:1001]-rep_len(0.01, 1000)
a<-abs(a)
max(a)
n<-10
a<-long_vec[1:n]-long_vec[2:(1+n)]-rep_len(0.01, n)
a
n<-10
long_vec[1:(n+1)]
a<-long_vec[1:n]-long_vec[2:(1+n)]-rep_len(0.01, n)
a
a<-long_vec[1:n]-long_vec[2:(1+n)]#-rep_len(0.01, n)
a
n<-10
long_vec[1:(n+1)]
a<-long_vec[2:(1+n)]-long_vec[1:n]#-rep_len(0.01, n)
a
n<-10
long_vec[1:(n+1)]
a<-long_vec[2:(1+n)]-long_vec[1:n]-rep_len(0.01, n)
a
a<-abs(a)
max(a)
n<-1000
long_vec[1:(n+1)]
a<-long_vec[2:(1+n)]-long_vec[1:n]-rep_len(0.01, n)
a
a<-abs(a)
max(a)
n<-4000
a<-long_vec[2:(1+n)]-long_vec[1:n]-rep_len(0.01, n)
a<-abs(a)
max(a)
n<-40000
a<-long_vec[2:(1+n)]-long_vec[1:n]-rep_len(0.01, n)
a<-abs(a)
max(a)
n<-8000
a<-long_vec[2:(1+n)]-long_vec[1:n]-rep_len(0.01, n)
a<-abs(a)
max(a)
n<-1
a<-long_vec[2:(1+n)]-long_vec[1:n]-rep_len(0.01, n)
a<-abs(a)
max(a)
n<-6000
a<-long_vec[2:(1+n)]-long_vec[1:n]-rep_len(0.01, n)
m1<-min(a)
m2<-max(a)
m1
m2
#make sure in grid
n<-length(long_vec)-1
a<-long_vec[2:(1+n)]-long_vec[1:n]-rep_len(0.01, n)
m1<-min(a)
m2<-max(a)
m1
m2
#make sure in grid
n<-length(long_vec)-1
a<-long_vec[2:(1+n)]-long_vec[1:n]
m1<-max(a)
m2<-min(a)
#test todo delete
year<-2016
long<- -150.233333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
r1<-1+(long_clos-long_vec[1])/m1
r2<-1+(long_clos-long_vec[1])/m2
long_vec[r1:r2]
c(r1,r2)
c(r1,r2)
long<- -120.233333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
r1<-1+(long_clos-long_vec[1])/m1
r2<-1+(long_clos-long_vec[1])/m2
c(r1,r2)
#make sure in grid
n<-length(long_vec)-1
a<-long_vec[2:(1+n)]-long_vec[1:n]
m1<-max(a)
m2<-min(a)
m1
m2
#make sure in grid
n<-length(long_vec)-1
a<-long_vec[2:(1+n)]-long_vec[1:n]
m1<-max(a)
m2<-min(a)
#test todo delete
year<-2016
long<- -120.233333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
r1<-floor(1+(long_clos-long_vec[1])/m1)
r2<-ceil(1+(long_clos-long_vec[1])/m2)
r2<-ceiling(1+(long_clos-long_vec[1])/m2)
c(r1,r2)
long_vec[r1:r2]
?which
?where
#test todo delete
year<-2016
long<- -120.233333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
r1<-floor(1+(long_clos-long_vec[1])/m1)
r2<-ceiling(1+(long_clos-long_vec[1])/m2)
c(r1,r2)
long_vec[r1:r2]
r_final <- match(long_clos ,long_vec[r1:r2])
long_vec[r_final]
long_vec[r1:r2]
r_final <- match(long_clos ,long_vec[r1:r2])
long_vec[r_final]
long_clos
r1<-floor(1+(long_clos-long_vec[1])/m1)
r2<-ceiling(1+(long_clos-long_vec[1])/m2)
c(r1,r2)
long_vec[r1:r2]
r_final <- r1+match(long_clos ,long_vec[r1:r2])
long_vec[r_final]
r_final
long_clos
r_final <- r1+match(long_clos,long_vec[r1:r2])
long_vec[r1:r2]
r_final <- r1+match(long_clos,long_vec[r1:r2])
r_final
?match
r_final <- r1+match(c(long_clos),long_vec[r1:r2])
r_final
long_vec[r1:r2]
long_vec[r1+3]-long_clos
#test todo delete
year<-2016
long<- -120.233333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
r1<-floor(1+(long_clos-long_vec[1])/m1)
r2<-ceiling(1+(long_clos-long_vec[1])/m2)
#http://adomingues.github.io/2015/09/24/finding-closest-element-to-a-number-in-a-list/
c(r1,r2)
long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1+3]-long_clos))
long_vec[r_final]
year<-2016
long<- -120.233333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
r1<-floor(1+(long_clos-long_vec[1])/m1)
r2<-ceiling(1+(long_clos-long_vec[1])/m2)
#c(r1,r2)
#long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1+3]-long_clos))+1
c(long,long_clos,long_vec[r_final])
#test todo delete
year<-2016
long<- -120.633333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
long_clos
year<-2016
long<- -120.633333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
r_final <- r1+which.min(abs(long_vec[r1+3]-long_clos))+1
c(long,long_clos,long_vec[r_final])
n<-length(long_vec)-1
a<-long_vec[2:(1+n)]-long_vec[1:n]
m_min_long<-min(a) #TODO save
m_max_long<-max(a)
#test todo delete
year<-2016
long<- -120.633333
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
r_final <- r1+which.min(abs(long_vec[r1+3]-long_clos))+1
c(long,long_clos,long_vec[r_final])
?runif
ru <-runif(10, min=-140,max=-120)
ru
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
r_final <- r1+which.min(abs(long_vec[r1+3]-long_clos))+1
c(long,long_clos,long_vec[r_final])
}
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
r_final <- r1+which.min(abs(long_vec[r1+3]-long_clos))+1
c(long,long_clos,long_vec[r_final])
}
ru
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
r_final <- r1+which.min(abs(long_vec[r1+3]-long_clos))+1
print(c(long,long_clos,long_vec[r_final]))
}
ru
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
r_final <- r1+which.min(abs(long_vec[r1+3]-long_clos))
print(c(long,long_clos,long_vec[r_final]))
}
ru
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))
print(c(long,long_clos,long_vec[r_final]))
}
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))+1
print(c(long,long_clos,long_vec[r_final]))
}
?print
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
print(subset)
print(c(long,long_clos,long_vec[r_final]))
}
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
print(paste("subset",subset))
print(paste("results",c(long,long_clos,long_vec[r_final])))
}
ru <-runif(4, min=-140,max=-120)
ru
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
print("subset")
print(subset)
print(c(long,long_clos,long_vec[r_final]))
}
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
print("subset")
print(subset)
print("results")
print(c(long,long_clos,long_vec[r_final]))
}
ru <-runif(4, min=-140,max=-120)
ru
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
print("subset")
print(subset)
print("results")
print(c(long,long_clos,long_vec[r_final]))
}
ru <-runif(10, min=-140,max=-120)
ru
for(long in ru){
long_clos <- round(long,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
#print("subset")
#print(subset)
print("results")
print(c(long,long_clos,long_vec[r_final]))
}
for(long in ru){
#-132.8162 -132.8250
long_clos <- sum(long,0.005)%>%
round(.,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
#print("subset")
#print(subset)
print("results")
print(c(long,long_clos,long_vec[r_final]))
}
ru <-runif(10, min=-140,max=-120)
ru
for(long in ru){
long_clos <- sum(long,0.005)%>%
round(.,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
#print("subset")
#print(subset)
print("results")
print(c(long,long_clos,long_vec[r_final]))
}
ru <-runif(10, min=-140,max=-120)
for(long in ru){
long_clos <- sum(long,0.005)%>%
round(.,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
#r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
r_final <- long_vec[r1:r2]-long_clos %>%
abs %>%
which.min %>%
sum(r1-1)
print("results")
print(c(long,long_clos,long_vec[r_final]))
}
ru <-runif(10, min=-140,max=-120)
for(long in ru){
long_clos <- sum(long,0.005)%>%
round(.,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
#r_final <- long_vec[r1:r2]-long_clos %>%
abs %>%
which.min %>%
sum(r1-1)
print("results")
print(c(long,long_clos,long_vec[r_final]))
}
for(long in ru){
long_clos <- sum(long,0.005)%>%
round(.,digit=2) %>%
sum(-0.005) %>%
min(.,long_vec[length(long_vec)]) %>%
max(.,long_vec[1])
r1<-floor(1+(long_clos-long_vec[1])/m_max_long)
r2<-ceiling(1+(long_clos-long_vec[1])/m_min_long)
subset<-long_vec[r1:r2]
r_final <- r1+which.min(abs(long_vec[r1:r2]-long_clos))-1 #TODO pipe
#r_final <- long_vec[r1:r2]-long_clos %>%
#abs %>%
#which.min %>%
#sum(r1-1)
print("results")
print(c(long,long_clos,long_vec[r_final]))
}
