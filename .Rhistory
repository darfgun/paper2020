source('~/Desktop/test 2.R')
View(census_vars)
View(census_vars2)
test <- census_vars2[26,3]
test <- census_vars2[26,2
test <- census_vars2[26,2]
test <- census_vars2[26,2]
View(test)
census_vars2 <- mutate(census_vars,
label = strsplit(label, "!!") %>%unlist,
gender = label[[1]][2] #TODO unlist
)
View(test)
test[[1]][2]
test
test <- census_vars2[36,2]
test
test[[1]][2]
census_vars2 <- mutate(census_vars,
label = strsplit(label, "!!"),
#gender = label[[1]][2] #TODO unlist &>& select
gender = label %>% unlist %>% select(2)
)
census_vars2 <- mutate(census_vars,
label = strsplit(label, "!!"),
#gender = label[[1]][2] #TODO unlist &>& select
gender = label %>% unlist %>% pull(2)
)
census_vars2 <- mutate(census_vars,
label = strsplit(label, "!!"),
#gender = label[[1]][2] #TODO unlist &>& select
gender = label %>% unlist %>% extract2(2)
)
census_vars <- listCensusMetadata(
name = "dec/sf1",
vintage = 2010,
type = "variables",
group = "PCT12A"
) %>%
select('name','label','concept') %>%
mutate(label = strsplit(label, "!!"))
source('~/Desktop/test 2.R')
census_vars2[36,'label'] %>% unlist %>% extract2(2)
census_vars[36, 'gender']
census_vars[, 'gender']
census_vars2[36, 'gender']
census_vars2[36,'label']
census_vars2[36,'label'] %>% unlist
update.packages("dplyr")
census_vars2[36,'label'] %>% unlist %>% extract2(2)
census_vars <- listCensusMetadata(
name = "dec/sf1",
vintage = 2010,
type = "variables",
group = "PCT12A"
) %>%
select('name','label','concept') %>%
mutate(label = strsplit(label, "!!")) %>%
filter(3== label %>% unlist %>% length)
census_vars <- listCensusMetadata(
name = "dec/sf1",
vintage = 2010,
type = "variables",
group = "PCT12A"
) %>%
select('name','label','concept') %>%
mutate(label = strsplit(label, "!!")) #%>%
census_vars[ 3, 'label']
census_vars[ 3, 'label'] %>% unlist %>% length
census_vars <- listCensusMetadata(
name = "dec/sf1",
vintage = 2010,
type = "variables",
group = "PCT12A"
) %>%
select('name','label','concept') %>%
mutate(label = strsplit(label, "!!"),
label_len = label %>% unlist %>% length) #%>%
census_vars <- listCensusMetadata(
name = "dec/sf1",
vintage = 2010,
type = "variables",
group = "PCT12A"
) %>%
select('name','label','concept') %>%
mutate(#label = strsplit(label, "!!"),
label_len = strsplit(label, "!!") %>% unlist %>% length)
census_vars <- listCensusMetadata(
name = "dec/sf1",
vintage = 2010,
type = "variables",
group = "PCT12A"
) %>%
select('name','label','concept') %>%
mutate(label = strsplit(label, "!!"),
label_len = label %>% unlist %>% length)
#census vars ist ein data frame
census_vars2 <- census_vars %>%
mutate(gender = label %>% unlist %>% extract2(2))
#census vars ist ein data frame
census_vars2 <- census_vars %>%
mutate(gender = label %>% unlist %>% extract2(2),
age = label %>% unlist %>% extract2(3))
census_vars <- listCensusMetadata(
name = "dec/sf1",
vintage = 2010,
type = "variables",
group = "PCT12A"
) %>%
select('name','label','concept') %>%
mutate(rown=1:n(), #mutate(positionInCategory = )
label = strsplit(label, "!!"))
#census vars ist ein data frame
census_vars2 <- census_vars %>%
mutate(gender = label[[rown]] %>% extract2(2),
age = label %>% unlist %>% extract2(3))
#census vars ist ein data frame
census_vars2 <- census_vars %>%
mutate(gender = label[[1]] %>% extract2(2),
age = label %>% unlist %>% extract2(3))
#census vars ist ein data frame
census_vars2 <- census_vars %>%
mutate(gender = label[[2]] %>% extract2(2),
age = label %>% unlist %>% extract2(3))
#census vars ist ein data frame
census_vars2 <- census_vars %>%
mutate(gender = label[[36]] %>% extract2(2),
age = label %>% unlist %>% extract2(3))
census_vars[ , 'label']
census_vars[ , 'label'] %>% lapply(
FUN = function(l){
extract2(2)
})
census_vars[ , 'label'] %>% lapply(
FUN = function(l){
#extract2(2)
l[2]
})
census_vars[ , 'label'] %>% sapply(
FUN = function(l){
#extract2(2)
l[2]
})
census_vars <- listCensusMetadata(
name = "dec/sf1",
vintage = 2010,
type = "variables",
group = "PCT12A"
) %>%
select('name','label','concept') %>%
mutate(
label = strsplit(label, "!!"),
label_len = sapply(label, length))
label = strsplit(label, "!!"),
label_len = sapply(label, length)) %>%
filter(label_len==3) %>%
#%>%
#filter(3== label %>% unlist %>% length)
census_vars[ , 'label'] %>% sapply(FUN =extract2(2)
?extract2
?extract2
label = strsplit(label, "!!"),
label_len = sapply(label, length)) %>%
filter(label_len==3) %>%
#%>%
#filter(3== label %>% unlist %>% length)
census_vars[ , 'label'] %>% sapply(FUN =.[2]
label = strsplit(label, "!!"),
label_len = sapply(label, length)) %>%
filter(label_len==3) %>%
#%>%
#filter(3== label %>% unlist %>% length)
census_vars[ , 'label'] %>% sapply(
label = strsplit(label, "!!"),
label_len = sapply(label, length)) %>%
filter(label_len==3) %>%
#%>%
#filter(3== label %>% unlist %>% length)
census_vars[ , 'label'] %>% sapply(
census_vars[ , 'label'] %>% sapply(
FUN = function(l){
#
l[2]
})
label = strsplit(label, "!!"),
label_len = sapply(label, length)) %>%
filter(label_len==3) %>%
#%>%
#filter(3== label %>% unlist %>% length)
a<-census_vars[ , 'label'] %>% sapply(
label = strsplit(label, "!!"),
label_len = sapply(label, length)) %>%
filter(label_len==3) %>%
#%>%
#filter(3== label %>% unlist %>% length)
a<-census_vars[ , 'label'] %>% sapply(FUN = function(l){
#
l[2]
})
label = strsplit(label, "!!"),
label_len = sapply(label, length)) %>%
filter(label_len==3) %>%
#%>%
#filter(3== label %>% unlist %>% length)
a<-census_vars[ , 'label'] %>% sapply(FUN = function(l){
#
l[2]
})
label = strsplit(label, "!!"),
label_len = sapply(label, length)) %>%
filter(label_len==3) %>%
#%>%
#filter(3== label %>% unlist %>% length)
a<-census_vars[ , 'label'] %>%
sapply(FUN = function(l){l[2]
})
a<-census_vars[ , 'label'] %>%
sapply(FUN = function(l){l[2]
})
a
a<-census_vars[ , 'label'] %>%
sapply(FUN = #function(l){l[2]}
extract2(2))
a<-census_vars[ , 'label'] %>%
sapply(FUN = #function(l){l[2]}
extract2(.,2))
a<-census_vars[ , 'label'] %>%
sapply(function(l){l[2]})
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
race_his = "ASIAN ALONE, NOT HISPANIC OR LATINO"
race_his %>% strsplit(.,",") #%>% substr(.,1,nchar(.)-6)
race_his %>% strsplit(.,",") %>% select(1) #%>% substr(.,1,nchar(.)-6)
race_his %>% strsplit(.,",") %>% select2(1) #%>% substr(.,1,nchar(.)-6)
race_his %>% strsplit(.,",") %>% extract2(1) #%>% substr(.,1,nchar(.)-6)
race_his %>% strsplit(.,",") %>% unlist #%>% substr(.,1,nchar(.)-6)
race_his %>% strsplit(.,",") %>% unlist %>% select(2)
race_his %>% strsplit(.,",") %>% unlist %>% select(2)
race_his %>% strsplit(.,",") %>% unlist %>% extract2(2)
race_his %>% strsplit(.,",") %>% unlist %>% extract2(1)%>% substr(.,1,nchar(.)-6)
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
age ="105 to 109 years"
age2 = "110 years and over"
str_extract(age, "[:digit:]+")  #%>%
str_extract_all(age, "[:digit:]+")  #%>%
str_extract_all(age, "[:digit:]+", simplify = TRUE)  #%>%
str_extract_all(age, "[:digit:]+") %>% unlist  #%>%
str_extract(age, "[:digit:]+")
grepl("over", age2)
grepl("over", age)
str_extract_all(age, "[:digit:]+") %>% unlist  #%>%
str_extract_all(age, "[:digit:]+") %>% unlist %>% extract2(2)  #%>%
str_extract_all(age, "[:digit:]+") %>% unlist %>% extract2(length(a))  #%>%
str_extract_all(age, "[:digit:]+") %>% unlist %>% extract2(length(age))  #%>%
str_extract_all(age, "[:digit:]+") %>% unlist %>% extract2(length(age))  #%>%
b<-str_extract_all(age, "[:digit:]+") %>% unlist %>% tail(., n=1)  #%>%
str_extract_all(age, "[:digit:]+") %>% unlist %>% tail(., n=1)  #%>%
str_extract_all(age, "[:digit:]+") %>% unlist %>% tail(., 1)  #%>%
str_extract_all(age, "[:digit:]+") %>% unlist %>% tail(1)  #%>%
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
source('~/Desktop/own_code2/code/00_parent.R')
